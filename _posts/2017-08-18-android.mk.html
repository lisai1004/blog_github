<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>android.mk</title>
	<meta name='Generator' content='Zim 0.67'>
	<style type='text/css'>
		a          { text-decoration: none      }
		a:hover    { text-decoration: underline }
		a:active   { text-decoration: underline }
		strike     { color: grey                }
		u          { text-decoration: none;
					 background-color: yellow   }
		tt         { color: #2e3436;            }
		pre        { color: #2e3436;
					 margin-left: 20px          }
		h1         { text-decoration: underline;
					 color: #4e9a06; margin-bottom: 0 }
		h2         { color: #4e9a06; margin-bottom: 0 }
		h3         { color: #4e9a06; margin-bottom: 0 }
		h4         { color: #4e9a06; margin-bottom: 0 }
		h5         { color: #4e9a06; margin-bottom: 0 }
		p          { margin-top: 0              }
		span.zim-tag {
			color: #ce5c00;
		}
		div.zim-object {
			border-style:solid;
			border-width:1px;
		}
		.checked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8sMEGsKGkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEBUlEQVRIx62V22tdRRTGf7Nn73P2ybntnNOe3NqkPTGgLTVUUZF6QatSLOKTPgqCIqLgQ0H/A1sQQbBYCBb1QfAxiC8tSO1FqHkwJVKtjdTGNraUmObsc9nXmfGh7cGYpM1D5nHWzPetteZb3wg2eB2YqYm4zSadsMtoboiNBH/3TE0awx6j+MRoxoTg/IYRvP19TQrJS0bzhdHGSyKFkLTtjSKwMjyiEz43ynhtP6bdjBCWyFobAf7eT7VhNF/q1FRbjYjmUohlCVPwnB+6FUxMTJipqSmUUhhjEGKd3bMT4ks/Y6oLBK2Yth8hHYtCJXOix7Nf7xLMzc0xOzvLzp078TyPNE3viW3QJPXzhNWbxFFKHCmMhoLn/FHodd48vGfhapdAacXQlkFK5dL6wIUm6fuTZPuvqDQhaMUYYyiVyuQr6rXDexYuAdi3tSv1ZJNs/R/CaszzT+1na88uXFnCEnJVgivBNN8uTJKmHQI/ptOOcXNZzMz9mOqFs90OHpipWcYwlo5P4ebnuOkrvr5wgrH+h3im7y36MzuwRXYZeKha/OhP0EkadFoxQSdGSotedR/+XwMc2XvKdNUFOFqZx6LKZWIiwjgkikNmLp/hm8sH+K1zjFTHXfBYdTi+eJArzXM0GxFxoBDCopLvo/fqEwi1XPkWkGqjFo2TgB1jOYZUKZTS/D1/ncmLh7jon0IbRWoiTi59ymzzJEEQE3cStNZsGxqlfPE57MBbOR8fP3hDGalOO9fq2DlBvmZw8xa2IxACGn6TydlD/O6f5OzSV/zif0cYhLQaEXGkKBbz7Ov/AOlXV1cxgBJRI3fuSTrpTawt18kWIZN1CFuaONI0w0WOXfsI43YIggh/KUSlhqxrMz74AkOZcWBm9QkH+Gw8NDLuITi+m0yzhluSyJzBLcpblUhFxywSRAEtPwQjsKVN30CNh0uvYuOubSHLtN3J0TO1j0pmBNuFbFWRK0gyPRZpktL2I5JQkclKakNlnh54g6ocvevUr/Ai2a7wineEkcJupA3S1Wg0nVZM2E6wbEF5U5G9Q++wI7sfR7h3N8HVNstykBfzH+KJEZwiWD0aIwxCgJ0R1Mu7GXOeJSuK93bZtQIle4D9pUNU5DC5jEsu55AvZakM5NicGyEj8uuz8bUCQgj67QfY671P3vEoeC69gy695U1U7NG7XV0pUwBjDJa1/JJlWWxzHuflzQe5FJ/GsgUVuZ2t8lEkTvfc0aNHb72flBhjVicQQqCUuvM3/M+WDVguWBrMVdDXEGZlBVEUrVCU9d9s5+fnaTQa2PZyPxEIhJaI1EEoZwX4ncynp6fXrmB4eJjR0VFarRbNZnP9P9rt9gohqNVq1Ov1ZbF/AZGev3hLJ2/zAAAAAElFTkSuQmCC)}
		.xchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8bDYnDxEwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEK0lEQVRIx9WVS2hTWRjHf/eR3CY1nbxMH2YiZRQS6qO13YlMVxY3SnVcuNIBFezGpSADLoQqLu1sHJCqdCFSXFpw4YOCSH3BtFqttTNamabX3DS5bfO6uffMoglja3RGcDMHzuac7/z/53++//cd+L8P6VuCPQYZ8ADNgBd4J31DcDcQs+GnHByRocEDv0kfBSjAOlYCs11Q+gpwDegS8LMJ+3QIK0ATzEhV8Odnz5bzw8P4dJ25aJQ/WlvJ1df/K7hSLtOcTNI+Pk69rpMTgqIQhCDvh1/VSpw79+gRrRMTmLZNezLJJsPg+a5dmOEwQlFqg1sWG16/Jv7sGWXDwBACFQjC9HcwIMONKkGp4PGAJGEDS0IQmZlhnWnye3c3eiyGo6qr3WHbrJ+dJf7gAXI6zSIr72T7/fgzmT4FHnTBsgrQBfYvTU0km5vxz86iADnAm0rRPTWFt7cXZccOJJcLAGHb2K9ekT93jmwmwwdAAFpjI6Ntbfxw5879ag7l6o1sr5eHHR3IsRgeQK/M4sQE+YEB7JcvEY6zAj45SWFgAPPxYwzHoQxIkQjTPT0kIxE+Noj8sexFn4/xnh58iQTeSpHkHAdrbIzi0BCOrmNPTpK/eJHM3bt8sCyKQCiR4NWePWSiUZw1+ZLXJm4pFKLhzBlCsRh2RUXacVgeGaF47RrL58+zcP8+RrmMkCQinZ1EL1zAjERqmkH+tLYl1G3bCJw4QUjT0IA0MJfLMX/5MqmHD0nZNiUgtGULG/r7ccXjINWuWbnmqsuFu7sb/4EDNLlcBIEioNs2KUAFGmMxmk6dQm1tRZI+3xBqEkiShBQOox05Ql1nJ26gvuIUAWiKQnj/ftStW5Fk+YuF+NldsbBA4cYN9KdPmaso8Fc62ZJtk7l1C2t0FGdxESHE1xE4hkHh6lX0oSHSpRIewC/LrPf7CSgKNpCamkI/fZr8pUuIZBIcpyaBunahPp1mub+fDyMjGKUSChCsq6Nh717q9u2jbnSU0uAgRrFIwTThyhUCqRS+hgZKLS1fJvDm87SNjZGcnsYUAjcQ8vsJ9/Xh7u1FDgRQN20iks3iDA+zZFmYhQLqzZtsj8WY3L0baY2Sf55ICCKpFHUzM2SEQAJCHg+hY8fQDh5EDgRWDoRC1J88SePRo2geD0XAcBy8b98Sv3ePYDZbbf2rFQjLIphMsmDbaEBQVQkePox26BCSz7e6i4bDrDt+nGYhmBscpFAskheC4Js3bPR4qHphFYEnlcI7P4/jdqNpGu8TCe4oCsXr1z//F2ga3+/cSfTJE0qmSVYIsKzaOZDcbjKyzFIiwfvt21kMBLA07YsetzWNd+3tLLW0sH5igvT8PH9Go/z44kX+E4LGjg7GDYOcy4XlOEgLC//5P/5LCFzxOPLmzWyIx+m6fduu7v0NVGqyTSycKksAAAAASUVORK5CYII=)}
		.unchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8qAt8h3m8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA60lEQVRIx+2VsQqDMBRF70sCLg5OLoKgjk7+lJ/hh+STXBwcnRz8ArMEkrxOFktbaC3tULzTg5e8k5vADXDq70VbobXmvu/hvQczg4heHrJfXxQFuq67blZbMc8zpmlCXddIkgTOuZcBUko45zCOI6y1Nz2xFSEEZFmGOI7fGg4A3nsQEZqmuXOu9jallACAtm3fvmutNaIoAjM/dkBECCF89KCbk4eAb+kEnIAT8EsAM0OIz3hSyrssUvss8t5fg+uIrLXPs0gIgWVZYIyBUurQyYdheO4gz3NUVQVjDNZ1PfSjpWmKsixvehfB9GBZ3NndrgAAAABJRU5ErkJggg==)}
		.migrated-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB+AKHREFA8vJSnkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAC1klEQVRIx+2VT0hUURTGf/e958w4Tc3TYowMw1GyEgwr1MqsFmbZIrIWQZsWJUjbdoHQpl3Qps0swnCRECQFYkR/TC1iKkqmfzAKTo2Vf8hoRsfR995tkRMT87RRWkUHHhy495zvnvvu933wP/75EKkkEAjIYDCIaZpIKRFCZN0kfX9xcTGtra2/irVUEolECIfDlJeXo+s6hmFkDaCqKoZhEAqFSCaTv60pqcSyLAoLC/F4PEtqDmCaJkIIKisrMybX0sdUVRWA5ubmPzdNjjI1cpXkZC/O1fV03PXgdDqRUtpPIITAsqxsDz0Z/3CZQv8uqo4N4C8/Tp2/DdM0MiZQlvk41OTkI/LW1SGtCVb5drD3eCc71wcA+VcAHA5vDd8+3UGakxiJV7i9pdQevU5T1R35pJ3MV5QW1pf+0kWBheJ2SWua8EQXZXsu4fVVYEz1sEKvof5EuxjoPvzpcRvrdp9C2gGMx6cpOHBmbImMesds7BZubwMVDTfXDnQ3vQfK7AC8wLfExMX5whyQc3q2OEnjGm5vE76SQxsfBLr77a7CNf+n0r/l6sSMtsBSnurckiIILCobAtVZhpF4gZF4jubaymj4Ch/fd380LE7bAnjc0NPxk2yqpmEuwGxF0ag+0k5uTpzZeBeaazvj0We8fXojainsb2xh2BZgbe0gSIllzSIUh63wfQ6dZ/O2fbjcKlOj58jJ3cVENESw5yErc9nf2MLQ4jwQAkV1Lqiq37/cZ9WaahJjF9AcmxiPDhLs7ePe23oOnmUwg2hSShQle96tKDjA2HAniusgo9FxnvY9Jxw7RWzGYy92QghM00x5g53qp9sHmtB58/o2umOI2NwGolMnMYUHIb7aAyiKwsjICLqu2/qBEIKUUAohMaSHSLyBSMoPTINQ6CX5+fn2AEVFRZSUlBCPx4nFYhl3L4RESjF/GEgX3pSj+Xw+/H7/b3U/AEOZFnp7O5+5AAAAAElFTkSuQmCC)}
		ul {list-style-image: none}
		/* ul rule needed to reset style for sub-bullets */
	</style>
</head>
<body>

<!-- Wiki content -->

	<h1>android.mk</h1>

<p>
Created 星期五 18 八月 2017
</p>

<h1>一、Android.mk文件的用途</h1>

<p>
一个android子项目中会存在一个或多个Android.mk文件 
</p>

<h2>1、单一的Android.mk文件</h2>

<p>
直接参考NDK的sample目录下的hello-jni项目，在这个项目中只有一个Android.mk文件 
</p>

<h2>2、多个Android.mk文件</h2>

<p>
如果需要编译的模块比较多，我们可能会将对应的模块放置在相应的目录中， <br>
这样，我们可以在每个目录中定义对应的Android.mk文件（类似于上面的写法）， <br>
最后，在根目录放置一个Android.mk文件，内容如下： <br>
include $(call all-subdir-makefiles) <br>
只需要这一行就可以了，它的作用就是包含所有子目录中的Android.mk文件 
</p>

<h2>3、多个模块共用一个Android.mk</h2>

<p>
这个文件允许你将源文件组织成模块，这个模块中含有： <br>
  -静态库(.a文件) <br>
  -动态库(.so文件) <br>
只有共享库才能被安装/复制到您的应用软件（APK）包中 <br>
include $(BUILD_STATIC_LIBRARY)，编译出的是静态库 <br>
include $(BUILD_SHARED_LIBRARY)，编译出的是动态库 
</p>

<br>

<h1>二、自定义变量</h1>

<p>
以下是在 Android.mk中依赖或定义的变量列表，可以定义其他变量为自己使用，但是NDK编译系统保留下列变量名： <br>
-以 LOCAL_开头的名字（例如 LOCAL_MODULE） <br>
-以 PRIVATE_, NDK_ 或 APP_开头的名字（内部使用） <br>
-小写名字（内部使用，例如‘my-dir’） <br>
如果为了方便在 Android.mk 中定义自己的变量，建议使用 MY_前缀，一个小例子： <br>
MY_SOURCES := foo.c <br>
ifneq ($(MY_CONFIG_BAR),) <br>
MY_SOURCES += bar.c <br>
endif <br>
LOCAL_SRC_FILES += $(MY_SOURCES) <br>
注意：‘:=’是赋值的意思；'+='是追加的意思；‘$’表示引用某变量的值。 
</p>

<br>

<h1>三、GNU Make系统变量</h1>

<p>
  这些 GNU Make变量在你的 Android.mk 文件解析之前，就由编译系统定义好了。注意在某些情况下，NDK可能分析 Android.mk 几次，每一次某些变量的定义会有不同。 
</p>

<h2>1.CLEAR_VARS:</h2>

<p>
指向一个编译脚本，几乎所有未定义的 LOCAL_XXX 变量都在"Module-description"节中列出。必须在开始一个新模块之前包含这个脚本：include$(CLEAR_VARS)，用于重置除LOCAL_PATH变量外的，所有LOCAL_XXX系列变量。 
</p>

<h2>2.BUILD_SHARED_LIBRARY:</h2>

<p>
指向编译脚本，根据所有的在 LOCAL_XXX 变量把列出的源代码文件编译成一个共享库。 <br>
注意，必须至少在包含这个文件之前定义 LOCAL_MODULE 和 LOCAL_SRC_FILES。 
</p>

<h2>3.BUILD_STATIC_LIBRARY:</h2>

<p>
一个 BUILD_SHARED_LIBRARY 变量用于编译一个静态库。静态库不会复制到的APK包中，但是能够用于编译共享库。 <br>
<div style='padding-left: 30pt'>
   示例：include $(BUILD_STATIC_LIBRARY) 
</div>
注意，这将会生成一个名为 lib$(LOCAL_MODULE).a 的文件 
</p>

<h2>4.TARGET_ARCH:</h2>

<p>
目标 CPU平台的名字 
</p>

<h2>5.TARGET_PLATFORM:</h2>

<p>
Android.mk 解析的时候，目标 Android 平台的名字.详情可考/development/ndk/docs/stable- apis.txt. <br>
<div style='padding-left: 30pt'>
   android-3 -&gt; Official Android 1.5 system images <br>
   android-4 -&gt; Official Android 1.6 system images <br>
   android-5 -&gt; Official Android 2.0 system images 
</div>
</p>

<br>

<h2>6.TARGET_ARCH_ABI:</h2>

<p>
 暂时只支持两个 value，armeabi 和 armeabi-v7a。。 
</p>

<h2>7.TARGET_ABI:</h2>

<p>
目标平台和 ABI 的组合， 
</p>

<br>
<br>

<h1>四、模块描述变量</h1>

<p>
  下面的变量用于向编译系统描述你的模块。应该定义在'include  $(CLEAR_VARS)'和'include $(BUILD_XXXXX)'之间。$(CLEAR_VARS)是一个脚本，清除所有这些变量。 
</p>

<h2>1.LOCAL_PATH:</h2>

<p>
这个变量用于给出当前文件的路径。 <br>
<div style='padding-left: 30pt'>
   必须在 Android.mk 的开头定义，可以这样使用：LOCAL_PATH := $(call my-dir) <br>
   如当前目录下有个文件夹名称 src，则可以这样写 $(call src)，那么就会得到 src 目录的完整路径 <br>
   这个变量不会被$(CLEAR_VARS)清除，因此每个 Android.mk 只需要定义一次(即使在一个文件中定义了几个模块的情况下)。 
</div>
</p>

<br>

<h2>2.LOCAL_MODULE:</h2>

<p>
<b>这是模块的名字，它必须是唯一的，而且不能包含空格。</b> <br>
<div style='padding-left: 30pt'>
   必须在包含任一的$(BUILD_XXXX)脚本之前定义它。模块的名字决定了生成文件的名字。 
</div>
</p>

<br>

<h2>3.LOCAL_SRC_FILES:</h2>

<p>
这是要编译的源代码文件列表。 <br>
<div style='padding-left: 30pt'>
   只要列出要传递给编译器的文件，因为编译系统自动计算依赖。注意源代码文件名称都是相对于 LOCAL_PATH的，你可以使用路径部分，例如： 
</div>
<div style='padding-left: 60pt'>
LOCAL_SRC_FILES := foo.c toto/bar.c\ <br>
Hello.c 
</div>
<div style='padding-left: 30pt'>
   文件之间可以用空格或Tab键进行分割,换行请用"\" <br>
   如果是追加源代码文件的话，请用LOCAL_SRC_FILES += <br>
   注意：可以LOCAL_SRC_FILES := $(call all-subdir-java-files)这种形式来包含local_path目录下的所有java文件。 
</div>
</p>

<br>

<h2>4.LOCAL_C_INCLUDES:</h2>

<p>
可选变量，表示头文件的搜索路径。 默认的头文件的搜索路径是LOCAL_PATH目录。 
</p>

<h2>5.LOCAL_STATIC_LIBRARIES:</h2>

<p>
表示该模块需要使用哪些静态库，以便在编译时进行链接。 
</p>

<h2>6.LOCAL_SHARED_LIBRARIES:</h2>

<p>
 表示模块在运行时要依赖的共享库（动态库），在链接时就需要，以便在生成文件时嵌入其相应的信息。 <br>
注意：它不会附加列出的模块到编译图，也就是仍然需要在Application.mk 中把它们添加到程序要求的模块中。 
</p>

<h2>7.LOCAL_LDLIBS:</h2>

<p>
编译模块时要使用的附加的链接器选项。这对于使用‘-l’前缀传递指定库的名字是有用的。 <br>
<div style='padding-left: 30pt'>
   例如，LOCAL_LDLIBS := -lz表示告诉链接器生成的模块要在加载时刻链接到/system/lib/libz.so <br>
   可查看 docs/STABLE-APIS.TXT 获取使用 NDK发行版能链接到的开放的系统库列表。 
</div>
</p>

<br>

<h2>8.LOCAL_MODULE_PATH 和 LOCAL_UNSTRIPPED_PATH</h2>

<p>
<div style='padding-left: 30pt'>
   在 Android.mk 文件中， 还可以用LOCAL_MODULE_PATH 和LOCAL_UNSTRIPPED_PATH指定最后的目标安装路径. <br>
   不同的文件系统路径用以下的宏进行选择： <br>
   TARGET_ROOT_OUT：表示根文件系统。 <br>
   TARGET_OUT：表示 system文件系统。 <br>
   TARGET_OUT_DATA：表示 data文件系统。 <br>
   用法如：LOCAL_MODULE_PATH :=$(TARGET_ROOT_OUT) <br>
   至于LOCAL_MODULE_PATH 和LOCAL_UNSTRIPPED_PATH的区别，暂时还不清楚。 
</div>
</p>

<br>

<h2>9.LOCAL_JNI_SHARED_LIBRARIES：</h2>

<p>
定义了要包含的so库文件的名字，如果程序没有采用jni，不需要 <br>
<div style='padding-left: 60pt'>
LOCAL_JNI_SHARED_LIBRARIES := libxxx 这样在编译的时候，NDK自动会把这个libxxx打包进apk； 放在youapk/lib/目录下 
</div>
</p>

<br>
<br>

<h1>五、NDK提供的函数宏</h1>

<p>
GNU Make函数宏，必须通过使用'$(call  )'来调用，返回值是文本化的信息。 
</p>

<h2>1.my-dir:</h2>

<p>
返回当前 Android.mk 所在的目录的路径，相对于 NDK 编译系统的顶层。这是有用的，在 Android.mk 文件的开头如此定义： <br>
<div style='padding-left: 60pt'>
LOCAL_PATH := $(call my-dir) 
</div>
</p>

<br>

<h2>2.all-subdir-makefiles:</h2>

<p>
返回一个位于当前'my-dir'路径的子目录中的所有Android.mk的列表。 <br>
<div style='padding-left: 30pt'>
   例如，某一子项目的目录层次如下： 
</div>
<div style='padding-left: 90pt'>
src/foo/Android.mk <br>
src/foo/lib1/Android.mk <br>
src/foo/lib2/Android.mk 
</div>
<div style='padding-left: 30pt'>
  如果 src/foo/Android.mk 包含一行： 
</div>
<div style='padding-left: 60pt'>
   include $(call all-subdir-makefiles) 
</div>
<div style='padding-left: 30pt'>
  那么它就会自动包含 src/foo/lib1/Android.mk 和 src/foo/lib2/Android.mk。 <br>
  这项功能用于向编译系统提供深层次嵌套的代码目录层次。 <br>
  注意，在默认情况下，NDK 将会只搜索在 src/*/Android.mk 中的文件。 
</div>
</p>

<br>

<h2>3.this-makefile:</h2>

<p>
返回当前Makefile 的路径(即这个函数调用的地方) 
</p>

<h2>4.parent-makefile:</h2>

<p>
返回调用树中父 Makefile 路径。即包含当前Makefile的Makefile 路径。 
</p>

<h2>5.grand-parent-makefile：</h2>

<p>
返回调用树中父Makefile的父Makefile的路径 
</p>

<h1>六、Android.mk输出变量</h1>

<p>
$(warning "the value of LOCAL_PATH is $(LOCAL_PATH)") 
</p>

<h1>七、 Android.mk示例</h1>

<p>
Java代码  收藏代码
</p>

<p>
<div style='padding-left: 30pt'>
#编译静态库  <br>
LOCAL_PATH := $(call my-dir)  <br>
include $(CLEAR_VARS)  <br>
LOCAL_MODULE = libhellos  <br>
LOCAL_CFLAGS = $(L_CFLAGS)  <br>
LOCAL_SRC_FILES = hellos.c  <br>
LOCAL_C_INCLUDES = $(INCLUDES)  <br>
LOCAL_SHARED_LIBRARIES := libcutils  <br>
LOCAL_COPY_HEADERS_TO := libhellos  <br>
LOCAL_COPY_HEADERS := hellos.h  <br>
include $(BUILD_STATIC_LIBRARY)  
</div>
</p>

<p>
<div style='padding-left: 30pt'>
#编译动态库  <br>
LOCAL_PATH := $(call my-dir)  <br>
include $(CLEAR_VARS)  <br>
LOCAL_MODULE = libhellod  <br>
LOCAL_CFLAGS = $(L_CFLAGS)  <br>
LOCAL_SRC_FILES = hellod.c  <br>
LOCAL_C_INCLUDES = $(INCLUDES)  <br>
LOCAL_SHARED_LIBRARIES := libcutils  <br>
LOCAL_COPY_HEADERS_TO := libhellod  <br>
LOCAL_COPY_HEADERS := hellod.h  <br>
include $(BUILD_SHARED_LIBRARY)  
</div>
</p>

<p>
<div style='padding-left: 30pt'>
#使用静态库  <br>
LOCAL_PATH := $(call my-dir)  <br>
include $(CLEAR_VARS)  <br>
LOCAL_MODULE := hellos  <br>
LOCAL_STATIC_LIBRARIES := libhellos  <br>
LOCAL_SHARED_LIBRARIES :=  <br>
LOCAL_LDLIBS += -ldl  <br>
LOCAL_CFLAGS := $(L_CFLAGS)  <br>
LOCAL_SRC_FILES := mains.c  <br>
LOCAL_C_INCLUDES := $(INCLUDES)  <br>
include $(BUILD_EXECUTABLE)  
</div>
</p>

<p>
<div style='padding-left: 30pt'>
#使用动态库  <br>
LOCAL_PATH := $(call my-dir)  <br>
include $(CLEAR_VARS)  <br>
LOCAL_MODULE := hellod  <br>
LOCAL_MODULE_TAGS := debug  <br>
LOCAL_SHARED_LIBRARIES := libc libcutils libhellod  <br>
LOCAL_LDLIBS += -ldl  <br>
LOCAL_CFLAGS := $(L_CFLAGS)  <br>
LOCAL_SRC_FILES := maind.c  <br>
LOCAL_C_INCLUDES := $(INCLUDES)  <br>
include $(BUILD_EXECUTABLE)  
</div>
</p>

<br>

<h1>八、android 通过Android.mk将三方的so库编译到apk里</h1>

<p>
<a href="http://blog.csdn.net/ydt_lwj/article/details/26686065" title="http://blog.csdn.net/ydt_lwj/article/details/26686065" class="http">http://blog.csdn.net/ydt_lwj/article/details/26686065</a>
</p>

<h1>九、参考</h1>

<p>
<a href="http://blog.csdn.net/mr_dsw/article/details/52053594" title="http://blog.csdn.net/mr_dsw/article/details/52053594" class="http">http://blog.csdn.net/mr_dsw/article/details/52053594</a><br>
<a href="http://www.jb51.net/article/77902.htm" title="http://www.jb51.net/article/77902.htm" class="http">http://www.jb51.net/article/77902.htm</a>
</p>


<!-- End wiki content -->

</body>

</html>
